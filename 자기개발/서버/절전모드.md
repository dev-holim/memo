확인
```bash
sudo systemctl status sleep.target suspend.target hibernate.target hybrid-sleep.target
```

절전모드일 경우...
![[image 15.png]]


절전모드 비활성화
```bash
sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target
```

절전모드 활성화
```bash
sudo systemctl unmask sleep.target suspend.target hibernate.target hybrid-sleep.target
```


## **GPU 절전 완전 방지하려면?**
> nvidia-persistenced 서비스가 실행 중이라도 --no-persistence-mode 때문에 GPU가 비사용 시 전력 절감 모드(P8 등)로 내려갈 수 있습니다.


#### **영구 전원 유지 모드 활성화**
```bash
sudo nvidia-smi -pm 1
```


#### **영구 전원 유지 모드 활성화 확인*

```bash
nvidia-smi
```

```bash
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | ...
|   0  NVIDIA GeForce RTX 4080 ...    On  |   00000000:02:00.0  On |
|   1  NVIDIA GeForce RTX 4080 ...    On  |   00000000:87:00.0 Off |
```

#### **부팅 시 자동 적용**
```bash
sudo nano /etc/rc.local
```

```bash
#!/bin/bash
nvidia-smi -pm 1
exit 0
```

```bash
sudo chmod +x /etc/rc.local
```



DJANGO_SETTINGS_MODULE=conf.settings.develop
DJANGO_SETTINGS_MODULE=conf.settings.stage
DJANGO_SETTINGS_MODULE=conf.settings.prod

[volumes]
static_volume:/app/staticfiles

[command]
python manage.py runserver 0.0.0.0:8000
gunicorn --bind 0.0.0.0:8000 --workers 2 --timeout 120 conf.wsgi:application
gunicorn --bind 0.0.0.0:8000 --workers 4 --worker-class sync --timeout 120 --max-requests 1000 --max-requests-jitter 50 conf.wsgi:application

```yaml

services:

	# Django 애플리케이션 (Gunicorn)
	web:
		build:
			context: ..
			dockerfile: Dockerfile
			target: production

...


```



```
docker build --target development -t sso .
docker run -d -p 8001:8000 --env-file .env --name sso sso

docker build --target staging -t sso .
docker run -d -p 8001:8000 --env-file .env --name sso sso

docker build --target production -t sso .
docker run -d -p 8001:8000 --env-file .env --name sso sso

```


### **USB 절전 기능 전체 비활성화**

sudo udevadm trigger --subsystem-match=usb --action=add

sudo find /sys/bus/usb/devices/*/power/control -exec sh -c 'echo on > {}' \;