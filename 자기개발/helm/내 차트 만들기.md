```
helm create {App 이름}
```


차트 띄우기
```bash
helm install {App이름} .
```

```bash
helm install erp-fe erp-fe/. 
```


차트 리스트
```bash
helm list
```


차트 지우기
```bash
helm delete {App이름}
```


차트 업그레이드
```bash
helm upgrade erp-fe erp-fe/.
```


alb 사용시

```
brew tap weaveworks/tap
brew install weaveworks/tap/eksctl

POLICY_ARN=arn:aws:iam::801541932050:policy/AWSLoadBalancerControllerIAMPolicy
```

```
helm repo add eks https://aws.github.io/eks-charts

helm repo update

helm upgrade --install aws-load-balancer-controller eks/aws-load-balancer-controller \
  -n kube-system \
  --set clusterName=ljy-eks \
  --set serviceAccount.create=false \
  --set serviceAccount.name=aws-load-balancer-controller \
  --set ingressClass=alb \
  --set ingressClassParams.create=false
  
  
helm upgrade --install aws-load-balancer-controller eks/aws-load-balancer-controller \
  -n kube-system \
  --set clusterName=reten-eks \
  --set serviceAccount.create=false \
  --set serviceAccount.name=aws-load-balancer-controller \
  --set ingressClass=alb \
  --set ingressClassParams.create=false \
  --set region=ap-northeast-2 \
  --set vpcId=vpc-07ad1aaf688e985e4
```


### **IRSA 만들기(eksctl 사용)**
```
# OIDC 연결 (없는 경우만)
aws eks describe-cluster --name reten-eks --query "cluster.identity.oidc.issuer" --output text
eksctl utils associate-iam-oidc-provider --cluster reten-eks --approve

# 정책(계정에 1회 생성)
curl -o iam_policy.json https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/main/docs/install/iam_policy.json
aws iam create-policy \
  --policy-name AWSLoadBalancerControllerIAMPolicy \
  --policy-document file://iam_policy.json

POLICY_ARN=arn:aws:iam::<YOUR_ACCOUNT_ID>:policy/AWSLoadBalancerControllerIAMPolicy

# IRSA 생성 (SA 자동 생성)
eksctl create iamserviceaccount \
  --cluster reten-eks \
  --namespace kube-system \
  --name aws-load-balancer-controller \
  --role-name AmazonEKSLoadBalancerControllerRole \
  --attach-policy-arn $POLICY_ARN \
  --approve
```


### OIDC 공급자 연결
```
eksctl utils associate-iam-oidc-provider \
  --region $AWS_REGION \
  --cluster $CLUSTER_NAME \
  --approve
```